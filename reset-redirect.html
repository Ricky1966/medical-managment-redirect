<!DOCTYPE html>
<html>
<head>
  <script>
    function redirectToApp() {
      const hash = window.location.hash.substring(1);
      const params = new URLSearchParams(hash);
      
      const token = params.get('token');
      const email = params.get('email');
      const type = params.get('type');
      
      if (type === 'recovery' && token && email) {
        window.location.href = 
          `io.supabase.flutter://reset-password/?type=recovery&token=${token}&email=${email}`;
      } else {
        document.getElementById('error').textContent = 'Parametri mancanti';
      }
    }
  </script>
</head>
<body onload="redirectToApp()">
  <p>Reindirizzamento in corso...</p>
  <p id="error" style="color: red;"></p>
</body>
</html>
